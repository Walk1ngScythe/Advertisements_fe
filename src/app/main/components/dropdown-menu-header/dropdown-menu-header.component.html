<!-- Кнопки -->
<div class="flex items-center space-x-4">
    <!-- Если пользователь не авторизован -->
    <div *ngIf="!(isloggedIn$ | async)">
        <a routerLink="/auth/login" class="text-blue-600 hover:underline font-medium">Войти</a>
    </div>

    <!-- Если пользователь авторизован -->
    <div *ngIf="isloggedIn$ | async" class="relative">
        <!-- Главное меню -->
        <div class="flex items-center space-x-4 cursor-pointer" (click)="toggleDropdown()">
            <!-- Аватар -->
            <img 
                [src]="(currentUser$ | async)?.avatar" 
                alt="Avatar" 
                class="h-10 w-10 rounded-full border-2 border-blue-500 shadow-lg" />
    
            <!-- Имя и фамилия -->
            <div>
                <span class="font-medium">{{ (currentUser$ | async)?.first_name }} </span>
                <span class="font-medium">{{ (currentUser$ | async)?.last_name }}</span>
            </div>
        </div>
    
        <!-- Выпадающее меню -->
        <div *ngIf="isDropdownOpen" class="absolute right-0 mt-2 w-56 bg-white border border-gray-300 rounded-lg shadow-lg z-50">
           <!-- Рейтинг с сердечками -->
                <div class="px-4 py-2 border-b border-gray-200">
                    <p class="text-sm text-gray-600 font-medium mb-2">Рейтинг:</p>
                    <div class="flex space-x-1">
                        <ng-container *ngFor="let heart of hearts; let i = index">
                            <!-- Полностью заполненные сердечки -->
                            <svg *ngIf="heart === true" 
                                fill="red" 
                                stroke="red" 
                                stroke-width="2" 
                                class="h-6 w-6" 
                                xmlns="http://www.w3.org/2000/svg" 
                                viewBox="0 0 24 24">
                                <path 
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>

                            <!-- Частично заполненные сердечки -->
                            <svg *ngIf="heart === 'partial'" 
                                fill="none" 
                                stroke="url(#grad)" 
                                stroke-width="2" 
                                class="h-6 w-6" 
                                xmlns="http://www.w3.org/2000/svg" 
                                viewBox="0 0 24 24">
                                <defs>
                                    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="50%" stop-color="red" />
                                        <stop offset="50%" stop-color="none" />
                                    </linearGradient>
                                </defs>
                                <path 
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>

                            <!-- Пустые сердечки -->
                            <svg *ngIf="heart === false" 
                                fill="none" 
                                stroke="red" 
                                stroke-width="2" 
                                class="h-6 w-6" 
                                xmlns="http://www.w3.org/2000/svg" 
                                viewBox="0 0 24 24">
                                <path 
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                        </ng-container>
                    </div>
            </div>


            <!-- Дополнительные кнопки -->
            <div class="px-4 py-2">
                <button routerLink="profiles/my_profile"
                    class="block w-full text-left text-sm text-gray-700 py-2 hover:bg-gray-100 rounded-lg">
                    Мой профиль
                </button>
                <button 
                    class="block w-full text-left text-sm text-gray-700 py-2 hover:bg-gray-100 rounded-lg">
                    Мои объявления
                </button>
            </div>

            <!-- Кнопка выхода -->
            <div class="px-4 py-2 border-t border-gray-200">
                <button 
                    class="block w-full text-left text-sm text-red-600 py-2 hover:bg-red-100 rounded-lg"
                    (click)="logout()">
                    Выйти
                </button>
            </div>
        </div>
    </div>
        <!-- Разместить объявление -->
        <a href="#" class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600">
        Разместить объявление
        </a>
</div>
